<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>SidraFly — Dashboard</title>

  <!-- Google Font -->
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600&display=swap" rel="stylesheet">

  <!-- Flaticon UIcons CDN -->
  <link rel="stylesheet" href="https://cdn-uicons.flaticon.com/uicons-regular-rounded/css/uicons-regular-rounded.css">
  <link rel="stylesheet" href="https://cdn-uicons.flaticon.com/uicons-solid-rounded/css/uicons-solid-rounded.css">
  <link rel="stylesheet" href="https://cdn-uicons.flaticon.com/uicons-solid-straight/css/uicons-solid-straight.css">
  <link rel="stylesheet" href="https://cdn-uicons.flaticon.com/uicons-regular-straight/css/uicons-regular-straight.css">
  <link rel="stylesheet" href="https://cdn-uicons.flaticon.com/uicons-bold-rounded/css/uicons-bold-rounded.css">
  <link rel="stylesheet" href="https://cdn-uicons.flaticon.com/uicons-bold-straight/css/uicons-bold-straight.css">
  <link rel="stylesheet" href="https://cdn-uicons.flaticon.com/uicons-thin-straight/css/uicons-thin-straight.css">
  <link rel="stylesheet" href="https://cdn-uicons.flaticon.com/uicons-thin-rounded/css/uicons-thin-rounded.css">

  <style>
    :root {
      --bg: #ffffff;            /* default light background */
      --card: #f5f5f7;
      --text: #0a0a0a;
      --muted: #6b7280;
      --accent: #A855F7;        /* neon purple accent */
      --accent-soft: rgba(168,85,247,0.12);
      --nav-height: 78px;
    }

    /* dark mode variables (toggle body.dark-mode) */
    .dark-mode {
      --bg: #080010;
      --card: #0c0e1a;
      --text: #e9ecff;
      --muted: #b7c0d3;
    }

    html,body {
      height:100%;
      margin:0;
      font-family:'Poppins',sans-serif;
      background:var(--bg);
      color:var(--text);
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
    }

    /* layout: header + scrollable main + fixed footer */
    .page {
      min-height:100vh;
      display:flex;
      flex-direction:column;
    }

    /* topbar (not fixed) */
    .topbar {
      display:flex;
      justify-content:space-between;
      align-items:center;
      padding:14px 18px;
      gap:12px;
    }
    .brand { font-weight:700; font-size:1.05rem; }

    .top-controls { display:flex; gap:12px; align-items:center; }
    .icon-btn {
      width:44px; height:44px; border-radius:10px;
      display:flex; align-items:center; justify-content:center;
      background:var(--card); border:1px solid rgba(0,0,0,0.04);
      cursor:pointer; box-shadow: 0 6px 18px var(--accent-soft);
    }
    .icon-btn i { font-size:18px; color:var(--accent); }

    /* scrollable content area (takes remaining height minus footer) */
    .main {
      flex:1 1 auto;
      overflow-y:auto;
      padding:18px;
      padding-bottom: calc(var(--nav-height) + 26px); /* leave space for fixed nav */
      display:flex;
      flex-direction:column;
      gap:18px;
    }

    /* header greeting */
    .header {
      padding:10px;
      background:transparent;
      text-align:left;
    }
    .greet { font-size:1.6rem; font-weight:700; margin:0 0 6px 0; }
    .tagline { margin:0; color:var(--muted); font-size:0.95rem; }

    /* actions (Hotel/Deals/Flights/Cars) */
    .actions {
      margin-top:8px;
      display:flex;
      gap:12px;
      justify-content:space-between;
    }
    .action {
      flex:1 1 0;
      background:var(--card);
      border-radius:14px;
      padding:14px;
      display:flex;
      flex-direction:column;
      align-items:center;
      gap:8px;
      box-shadow: 0 10px 30px var(--accent-soft);
      cursor:pointer;
      min-width:0;
    }
    .action i { font-size:24px; color:var(--accent); }
    .action label { font-size:0.95rem; color:var(--text); font-weight:600; }

    /* popular destinations / placeholder grid */
    .grid {
      display:grid;
      grid-template-columns:repeat(2,1fr);
      gap:12px;
      margin-top:4px;
    }
    .card {
      min-height:120px;
      background:var(--card);
      border-radius:12px;
      padding:12px;
      box-shadow: 0 8px 24px var(--accent-soft);
    }
    .card h4 { margin:0; font-size:1rem; }
    .card p { margin:6px 0 0 0; color:var(--muted); font-size:0.85rem; }

    /* fixed bottom nav */
    .bottom-nav {
      position:fixed;
      left:0; right:0; bottom:12px;
      display:flex;
      justify-content:center;
      pointer-events:none; /* allow inner .nav to handle clicks only */
    }
    .nav {
      pointer-events:auto;
      width:calc(100% - 28px);
      max-width:980px;
      height:var(--nav-height);
      background:linear-gradient(180deg, rgba(255,255,255,0.95), rgba(255,255,255,0.98));
      border-radius:16px;
      display:flex;
      align-items:center;
      justify-content:space-around;
      padding:8px 12px;
      box-shadow: 0 10px 40px rgba(0,0,0,0.08);
      border:1px solid rgba(0,0,0,0.04);
    }
    .nav .item {
      flex:1 1 0;
      display:flex;
      flex-direction:column;
      align-items:center;
      justify-content:center;
      gap:6px;
      color:var(--muted);
      font-size:0.85rem;
      cursor:pointer;
      user-select:none;
      transition: transform .18s, color .18s;
    }
    .nav .item i { font-size:20px; display:block; }
    .nav .item.active {
      color:var(--accent);
      transform: translateY(-6px);
      text-shadow: var(--accent-glow);
    }

    /* responsive tweaks */
    @media (min-width:720px) {
      .greet { font-size:2rem; }
      .action { padding:18px; }
    }

  </style>
</head>
<body>
  <div class="page">
    <!-- topbar -->
    <div class="topbar">
      <div class="brand">SidraFly</div>
      <div class="top-controls">
        <div class="icon-btn" id="themeBtn" title="Toggle theme" onclick="toggleTheme()"><i class="fi fi-sr-brightness"></i></div>
        <div class="icon-btn" id="bellBtn" title="Notifications"><i class="fi fi-rr-bell"></i></div>
        <div class="icon-btn" id="menuBtn" title="Menu"><i class="fi fi-rr-menu-burger"></i></div>
      </div>
    </div>

    <!-- scrollable content -->
    <main class="main" id="mainScroll">
      <section class="header">
        <h1 class="greet">Assalamualaikum, <span id="username">Guest</span></h1>
        <p class="tagline">SidraFly — Your Digital Travel Friend.</p>
      </section>

      <section class="actions" aria-label="quick actions">
        <div class="action" data-action="hotel">
          <i class="fi fi-ss-house-building"></i>
          <label>Hotel</label>
        </div>
        <div class="action" data-action="deals">
          <i class="fi fi-rs-badge-percent"></i>
          <label>Deals</label>
        </div>
        <div class="action" data-action="flights">
          <i class="fi fi-rr-plane-alt"></i>
          <label>Flights</label>
        </div>
        <div class="action" data-action="cars">
          <i class="fi fi-rr-luggage-cart"></i>
          <label>Cars</label>
        </div>
      </section>

      <section>
        <h3 style="margin:12px 0 8px 0; color:var(--text)">Popular Destinations</h3>
        <div class="grid" id="destGrid">
          <!-- placeholder cards -->
          <div class="card"><h4>Dubai</h4><p>2522 properties</p></div>
          <div class="card"><h4>Paris</h4><p>2474 properties</p></div>
          <div class="card"><h4>Hong Kong</h4><p>0 properties</p></div>
          <div class="card"><h4>London</h4><p>3917 properties</p></div>
        </div>
      </section>

      <!-- extra space so content can scroll above fixed nav -->
      <div style="height:36px"></div>
    </main>

    <!-- fixed bottom nav (locked) -->
    <div class="bottom-nav" aria-hidden="false">
      <nav class="nav" role="navigation" aria-label="Main navigation">
        <div class="item active" data-tab="home" id="tab-home">
          <i class="fi fi-rs-home"></i>
          <span>Home</span>
        </div>
        <div class="item" data-tab="flights" id="tab-flights">
          <i class="fi fi-rr-plane-alt"></i>
          <span>Flights</span>
        </div>
        <div class="item" data-tab="bookings" id="tab-bookings">
          <i class="fi fi-rr-memo-pad"></i>
          <span>Bookings</span>
        </div>
        <div class="item" data-tab="wallet" id="tab-wallet">
          <i class="fi fi-rr-wallet"></i>
          <span>Wallet</span>
        </div>
      </nav>
    </div>
  </div>

  <script>
    // toggle theme (light/dark)
    function toggleTheme() {
      document.body.classList.toggle('dark-mode');
      // update theme icon (optional) - simple swap: brightness <-> moon (not implemented to change icon here)
    }

    // set username from localStorage or default (wired to your auth later)
    (function loadUsername(){
      const uname = localStorage.getItem('sidrafly_username') || 'Guest';
      document.getElementById('username').innerText = uname;
    })();

    // Bottom nav behavior: lock in place and switch active class
    const navItems = document.querySelectorAll('.nav .item');
    navItems.forEach(item => {
      item.addEventListener('click', (e) => {
        navItems.forEach(i=>i.classList.remove('active'));
        item.classList.add('active');

        // small demo behaviour: scroll to top when Home clicked
        const tab = item.dataset.tab;
        if(tab === 'home') {
          document.getElementById('mainScroll').scrollTo({ top: 0, behavior: 'smooth' });
        } else if(tab === 'flights') {
          // placeholder: scroll to flights section or open flights page
          alert('Open Flights (placeholder)');
        } else if(tab === 'bookings') {
          alert('Open Bookings (placeholder)');
        } else if(tab === 'wallet') {
          alert('Open Wallet (placeholder)');
        }
      });
    });

    // keep bottom nav visible when keyboard opens on mobile (no auto reposition)
    // (no changes needed here in most browsers; added to ensure nav remains fixed)
    window.addEventListener('resize', () => {
      // ensure content bottom padding remains equal to nav height
      const nav = document.querySelector('.nav');
      if(nav) {
        const navHeight = nav.getBoundingClientRect().height;
        document.querySelector('.main').style.paddingBottom = `${navHeight + 26}px`;
      }
    });

    // optional: initialize padding once
    window.dispatchEvent(new Event('resize'));
  </script>
</body>
</html>
